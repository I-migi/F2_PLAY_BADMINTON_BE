# 어디야 
## 프로젝트 개요

가족, 연인, 친구의 위치를 실시간으로 공유하고 미션 수행을 통해 관계를 돈독하게 하자 ❗️

### <기존>

1. 자녀 위치 실시간 확인
2. `부모님기능` 자녀의 스케줄을 동선으로 관리 가능
    1. 학원, 학교, 집 등 도착 시간 등록
    2. 시간, 장소 등록 후 자녀가 시간내에 장소에 도착하면, 도착했다는 알림 가야함. 도착 못하면 도착 못했다는 알림 가야함
3. `부모님기능` 알림 기능
    1. 자녀가 등록된 장소에 도착 시 알림
    2. 등록된 시간에 도착 못하면 알림

### <자녀 → 가족, 연인, 친구로 확장>

부모 - 자녀 관계로 제한 ❌

고객 경험을 해야 하는데, 아이를 섭외할 수가 없다 ❗️

→ 다양한 관계로 확장 ❗️

### [타겟층]

- 가족, 연인, 친구
- 효도 어플(치매 어플)로도 활용 가능
    - 혼자 사시는 분들, 독거노인
- **`가족`**으로 한정 X → 다양한 성격의 **`그룹`**

## 기능

> 👥 **로그인**
>
1. **`OAuth`** 적용
2. 처음 로그인 한 사람이라면 초대 링크 입력 하거나, 그룹 생성 가능
3. 그룹 생성 시
    1. 그룹 이름 설정
    2. 설정 완료 후 초대코드 공유 화면
    3. 초대 공유 화면에는 공유 및 메인화면 이동


> 👨‍👨‍👧‍👧 **그룹 생성**
>
- 첫 로그인 직후 가능
- 마이페이지에서 생성 가능

> **동선 확인**
>
- 그룹원들의 **`실시간 위치`** 확인
- 그룹원들의 이미지를 클릭하면 동선 확인 가능
    - 시간 별로 동선 표시
    - 오랜 시간 머무른 곳이 있다면, 다른 형태로 화면에 표시

> 🍎 **약속 잡기**
>
- 약속 잡을 그룹원 설정
- 그룹원들의 집 위치에 맞춰서 중간 위치 리스트업
- 약속 위치 직접 설정도 가능
- 메인페이지에 약속 잡은 위치 표시
- 약속 이름, 위치, 시간, 참석 인원 → 메인페이지에서 클릭 시

> **🗾 위치 정보 기록 및 지도에 표시**
>

**`그룹별`**로 표시

1. 일반 위치 기록
    1. 5분마다 위치를 확인
    2. 100m 이상 위치가 달라져야 db에 반영 →  좌표 남기기(발자국)
2. 장시간 머무는 장소 기록
    1. 1시간 이상 머무른 장소 → 시간과 장소명을 표시(화면 상 기록)

> **🚨 위험 지역 지도에 표시**
>

**`전역적`**으로 표시

worker 스크래핑(기사)

- 스케줄러
- Worker가 스크래핑
- **`6시간`**(하루에 4번) → 사건, 사고 위주로 기사를 스크랩
- 빨간색 원형으로 지도에 표시
    - 스크랩된 기사 기준으로 24시간

- 뉴스 중 사건/사고에 관련된 기사만 👷
- 지도 표시 지역 범위
    - 시로만 끝나는데 지도에 표시하면 . . . 서울 전체가 빨개짐
    - 읍/면/동으로 끝나는 사건에 대해 지도에 표시

> 🔔 **알림**
>

- 약속 일정 관련
    - 약속 시간 1시간 전 알림
    - 약속 시간 10분 전 알림
- 위험 지역 근처에 있다면 → 그룹원 전체에게 알림 🚨
    - “선우님이 불이 난 이문2동 근처에 있습니다!”

> 🎟️ **미션**
>

- 미션은 모든 그룹원 이 C, R 가능
- 미션은 태깅된 그룹원만 수행 완료 할 수 있음

- `동등한 느낌 !` 으로 수행
- 서로 미션을 등록 가능 (`커스텀 미션`)
- 그룹 미션, 개인 미션

- 자녀-부모
    - 주어진 루트대로 잘 갔다면, 미션 성공(금액 or 선물)
        - 부모님이 `미리 돈을 충전` → 미션 달성 시 아이들에게 지급
    - 용돈을 미리 정해두고, 미션 !!! 수행 시
        - 학원 결석 안하면 10000원
        - 설거지하면 2000원
        - . . .
- 가족
    - 고맙다는 말하기
    - 사랑해라고 말하기
    - 저녁 집에서 먹기
    - 7시 전에 귀가하기
    - 아빠 술 그만 마시기, 담배 끊기
- 연인 간
    - 사랑해라고 하기
    - 하루에 한번 안아주기
- 친구 간
    - 너 이거 하면 내가 만원 줄게
    - 숙제 보여줘

> 💵 **리워드 ⇒ 후순위 개발**
>

1. 포인트 = 돈
    - 부모가 미리 충전하기(본인 계좌에서 사업자 계좌로)
    - 계좌 등록하기
    - `포인트` → 돈을 빼고 싶으면 계좌등록이 필요함
2. 배지 획득

## 기술적 고민 . . .

- 오프라인에서 동작 가능한가
- 백그라운드에서 동작 가능한가
    - 앱을 끄고도, 위치 추적이 가능할까
- Wep App
    - PWA

## 백엔드적 고민 요소

- **`수치화`**
- 대규모 트래픽 처리
    - **`실시간 위치`**를 그룹 간에 공유 → 그룹이 늘어날수록 , , ,
    - 스레드 단위로 나누기
- DB 최적화
- **`Redis`** 사용

- 맵 API
    - Google, Kakao
- 실시간 위치
    - 웹 소켓, polling, SSE
    - https://ohksj77.tistory.com/252
